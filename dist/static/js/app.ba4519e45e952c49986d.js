webpackJsonp([1,3],{24:function(t,e,n){"use strict";var s=n(4),i=n(89),o=n(85),a=n.n(o),c=n(84),r=n.n(c);s.a.use(i.a),e.a=new i.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:a.a},{path:"/chatroom",name:"chatroom",component:r.a}]})},25:function(t,e,n){"use strict";var s=n(4),i=n(14),o=n(93),a=n.n(o);s.a.use(i.a);var c="",r={authDomain:"brian.wilddog.com",syncURL:"https://brian.wilddogio.com"};a.a.initializeApp(r);var u=a.a.sync().ref("/user"),l=a.a.sync().ref("/msg");u.on("value",function(t){},function(t){console.log("The read failed: "+t.code)}),u.on("child_added",function(t){""!==d.newUser&&c.push("chatroom")},function(t){console.log("The read failed: "+t.code)}),u.on("value",function(t){},function(t){console.log("The read failed: "+t.code)}),l.on("child_added",function(t){""!==d.newUser&&(p.commit("pushMsg",t.val()),console.log(d.newUser===t.val().name))},function(t){console.log("The read failed: "+t.code)});var d={newUser:"",currentUsers:[],chatRecords:[]},m={login:function(t,e){c=e.router,t.newUser=e.value},pushMsg:function(t,e){t.chatRecords.push(e)}},v={login:function(t,e){(0,t.commit)("login",e),u.push({name:e.value})},sendMsg:function(t,e){t.commit;l.push({name:d.newUser,msg:e.value})},incrementIfOdd:function(t){t.commit,t.state},incrementAsync:function(t){t.commit}},f={evenOrOdd:function(t){return t.count%2==0?"even":"odd"}},p=new i.a.Store({state:d,getters:f,actions:v,mutations:m});e.a=p},26:function(t,e,n){n(74);var s=n(13)(null,n(88),null,null);t.exports=s.exports},29:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(15),i=n.n(s),o=n(14);e.default={data:function(){return{msg:""}},computed:{chatRecords:function(){return this.$store.state.chatRecords},newUser:function(){return this.$store.state.newUser}},methods:i()({},n.i(o.b)(["login","sendMsg","incrementIfOdd","incrementAsync"]),{scrollInView:function(t){setTimeout(function(){t.target.scrollIntoViewIfNeeded()},0)},sendMessage:function(){this.$store.dispatch("sendMsg",{value:this.msg})}})}},30:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(15),i=n.n(s),o=n(14);e.default={data:function(){return{text:"",isActive:!1}},computed:{},methods:i()({},n.i(o.b)(["login","decrement","incrementIfOdd","incrementAsync"]),{scrollInView:function(t){setTimeout(function(){t.target.scrollIntoViewIfNeeded()},100)},changeIconState:function(t){""!==this.text?this.isActive=!0:this.isActive=!1},loginMiddleFunc:function(t){this.$store.dispatch("login",{value:this.text,router:this.$router})}})}},72:function(t,e){},73:function(t,e){},74:function(t,e){},84:function(t,e,n){n(72);var s=n(13)(n(29),n(86),"data-v-396a5b5a",null);t.exports=s.exports},85:function(t,e,n){n(73);var s=n(13)(n(30),n(87),"data-v-de8eab64",null);t.exports=s.exports},86:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chatroom"}},[n("div",{staticClass:"content-box"},t._l(t.chatRecords,function(e){return n("div",[t.newUser!==e.name?n("div",{staticClass:"content-item left-side"},[t._m(0,!0),t._v(" "),n("div",{staticClass:"item-right-side"},[n("span",{staticClass:"item-name"},[t._v(t._s(e.name)+t._s(t.newUser))]),t._v(" "),n("li",{staticClass:"chat-content"},[t._v(t._s(e.msg))])])]):n("div",{staticClass:"content-item right-side"},[n("div",{staticClass:"item-left-side"},[n("span",{staticClass:"item-avatar"},[t._v("B")])]),t._v(" "),n("div",{staticClass:"item-right-side"},[n("span",{staticClass:"item-name"},[t._v(t._s(e.name))]),t._v(" "),n("li",{staticClass:"chat-content"},[t._v(t._s(e.msg))])])])])})),t._v(" "),n("div",{staticClass:"bottom-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"input-box",attrs:{type:"text"},domProps:{value:t.msg},on:{focus:t.scrollInView,input:function(e){e.target.composing||(t.msg=e.target.value)}}}),t._v(" "),n("button",{staticClass:"icon-emoji",on:{click:t.sendMessage}},[t._v("发送")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-left-side"},[n("span",{staticClass:"item-avatar"},[t._v("B")])])}]}},87:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"logo"},[t._v("chat")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",id:"input-name",placeholder:"write your name and go chat ..."},domProps:{value:t.text},on:{focus:t.scrollInView,input:[function(e){e.target.composing||(t.text=e.target.value)},t.changeIconState]}}),t._v(" "),n("button",{staticClass:"icon icon-go",class:{"icon-go-disabled":!t.isActive,"icon-go-active":t.isActive},attrs:{disabled:!t.isActive},on:{click:t.loginMiddleFunc}})])},staticRenderFns:[]}},88:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},94:function(t,e){},95:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),i=n(26),o=n.n(i),a=n(24),c=n(25);s.a.config.productionTip=!1,new s.a({el:"#app",router:a.a,store:c.a,template:"<App/>",components:{App:o.a}})}},[95]);
//# sourceMappingURL=app.ba4519e45e952c49986d.js.map